(this["webpackJsonpreact-login"]=this["webpackJsonpreact-login"]||[]).push([[0],{51:function(e){e.exports=JSON.parse('{"layout":{"welcome":"Welcome to the React Auth App","register":"Register","login":"Log In","backhome":"Return Home","signup":"Sign Up","back":"Back","logout":"logout"},"data":{"name":"Name","lastname":"Last Name","email":"Email","password":"Password","phone":"Phone","country":"Country","confirm":"Confirm password","conditions":"Acept terms and conditions"},"messages":{"noaccount":"Don\'t have an account?","newuser":"Register to become a new user","haveaccount":"Already have an account?","welcome":"Welcome to the main page","registersuccess":"Registration successful"},"validations":{"required":"This field is required","emailpattern":"Format incorrect for mail","sixminlenght":"Min 6 characters","thirtynminlenght":"Min 30 characters","tenminlenght":"Max 10 characters","passnomatch":"The passwords do not match"},"terms":"Terms and Conditions"}')},52:function(e){e.exports=JSON.parse('{"layout":{"welcome":"Bienvenidos a la apliaci\xf3n de autenticaci\xf3n de React","register":"Reg\xedstrate","login":"Inciar sesi\xf3n","backhome":"Regresar al Inicio","signup":"Registrar","back":"Regresar","logout":"salir"},"data":{"name":"Nombre","lastname":"Apellido","email":"Correo electr\xf3nico","password":"Clave","phone":"Tel\xe9fono","country":"Pa\xeds","confirm":"Confirmar clave","conditions":"Acepto terminos y condiciones"},"messages":{"noaccount":"Aun no tienes cuenta?","newuser":"Registrate para ser un nuevo usuario","haveaccount":"A\xfan no tienes cuenta?","welcome":"Bienvenido a la p\xe1gina principal","registersuccess":"Registro exitoso"},"validations":{"required":"Este campo es obligatorio","emailpatter":"Formato incorrecto de correo","sixminlenght":"M\xednimo 6 caracteres","thirtynminlenght":"M\xednimo 30 caracteres","tenminlenght":"M\xe1ximo 10 characters","passnomatch":"Las claves no coinciden"},"terms":"Terminos y condiciones"}')},58:function(e,t,a){},82:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(26),i=a.n(c),r=(a(58),a(5)),o=a(14),l=a(17),d=a.n(l),j=function(e){e?d.a.defaults.headers.common.Authorization=e:delete d.a.defaults.headers.common.Authorization},u=a(99),b=a(15),m=a(8),h=Object(m.a)(),O="ALERT_SUCCESS",g="ALERT_ERROR",p="ALERT_CLEAR",x={success:function(e){return{type:O,message:e}},error:function(e){return{type:g,message:e}},clear:function(){return{type:p}}};var v=a.p+"static/media/logo.ed1b40f0.svg",f=a.p+"static/media/yoda.f4f6166e.png",S=a.p+"static/media/baby-yoda.9cf3be83.jpg",N=(a(82),a(1));var y=function(){var e=Object(b.c)((function(e){return e.authentication.authenticated})),t=Object(u.a)().t;return Object(N.jsxs)("div",{className:"landing-container",children:[!e&&Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"login-buttons",children:[Object(N.jsx)(o.a,{to:"/register",children:t("layout.register")}),Object(N.jsx)(o.a,{to:"/login",children:t("layout.login")})]})}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{children:[e&&Object(N.jsx)("img",{className:"responsive-image img",src:f,alt:"home"}),!e&&Object(N.jsx)("img",{className:"responsive-image img",src:S,alt:"login"})]})]})},w=a(2),E=a(6),R=a(28),_="USERS_REGISTER_REQUEST",L="USERS_REGISTER_SUCCESS",T="USERS_REGISTER_FAILURE",C="USERS_LOGIN_REQUEST",k="USERS_LOGIN_SUCCESS",q="USERS_LOGIN_FAILURE",A="USERS_LOGOUT",I={login:function(e,t){return function(a){a({type:C,user:e}),d.a.post("https://private-8e8921-woloxfrontendinverview.apiary-mock.com/login",e).then((function(e){a(function(e){return{type:k,user:e}}(e));var s=e.data.token;localStorage.setItem("sessionToken",s),j(s),h.push(t),a(x.success("messages.welcome"))}),(function(e){a(function(e){return{type:q,error:e}}(e.toString())),a(x.error(e.toString()))}))}},logout:function(){return localStorage.removeItem("sessionToken"),j(!1),{type:A}},register:function(e){return function(t){t({type:_,user:e}),d.a.post("https://private-8e8921-woloxfrontendinverview.apiary-mock.com/signup",e).then((function(e){t(function(e){return{type:L,user:e}}()),h.push("/login"),t(x.success("messages.registersuccess"))}),(function(e){t(function(e){return{type:T,error:e}}(e.toString())),t(x.error(e.toString()))}))}}};a(93);var U=function(e){var t=Object(u.a)().t,a=Object(s.useState)(!1),n=Object(E.a)(a,2),c=n[0],i=n[1],r=Object(s.useState)([]),o=Object(E.a)(r,2),l=o[0],j=o[1],b=Object(s.useState)(""),m=Object(E.a)(b,2),h=m[0],O=m[1],g=Object(s.useState)(!1),p=Object(E.a)(g,2),x=p[0],v=p[1];Object(s.useEffect)((function(){d.a.get("https://restcountries.eu/rest/v2/all").then((function(e){j(e.data)}),(function(e){console.log(e.toString())}))}),[]);return Object(N.jsxs)("div",{className:"pos-rel",children:[Object(N.jsx)("div",{className:"label"}),Object(N.jsx)("input",{id:"search",name:"search",type:"text","data-testid":"search",onClick:function(){return i(!c)},value:h,onChange:function(e){return function(e){v(!e.target.value),O(e.target.value)}(e)}}),x&&Object(N.jsx)("span",{className:"alert",role:"alert",children:t("validations.required")}),c&&Object(N.jsx)("div",{className:"search-container",children:l.filter((function(e){return e.name.toLowerCase().indexOf(h.toLowerCase())>-1})).slice(0,10).map((function(t,a){return Object(N.jsxs)("div",{id:"options",onClick:function(){return O((a=t).name),e.value(a),void i(!1);var a},className:"option",tabIndex:"0",children:[Object(N.jsx)("span",{className:"label",children:t.name}),Object(N.jsx)("img",{src:t.flag,alt:"country",className:"flag"})]},a)}))})]})};a(94);var F=function(){var e=Object(u.a)().t,t=Object(R.a)({mode:"onBlur"}),a=t.register,n=t.handleSubmit,c=t.watch,i=t.formState,r=i.errors,l=i.isDirty,d=i.isValid,j=Object(b.b)();Object(s.useEffect)((function(){}),[]);var m=Object(s.useState)([]),h=Object(E.a)(m,2),O=h[0],g=h[1];return Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:e("messages.newuser")}),Object(N.jsxs)("p",{children:[e("messages.haveaccount")," ",Object(N.jsx)(o.a,{to:"/login",children:e("layout.login")})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)("form",{noValidate:!0,onSubmit:n((function(e){var t=e;console.log(d+" "+l),t.country=O.name,t.province=O.capital,j(I.register(t))})),className:"frm",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"name",children:[e("data.name"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"text",id:"name"},a("name",{required:e("validations.required"),maxLength:{value:30,message:e("validations.thirtynminlenght")}}))),Object(N.jsx)("br",{}),r.name&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.name.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"lastname",children:[e("data.lastname"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"text",id:"lastname"},a("lastname",{required:e("validations.required"),maxLength:{value:30,message:e("validations.thirtynminlenght")}}))),Object(N.jsx)("br",{}),r.lastname&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.lastname.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"country",children:[e("data.country"),":"]}),Object(N.jsx)("div",{children:Object(N.jsx)(U,{value:g})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"email",children:[e("data.email"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"email",id:"email"},a("email",{required:e("validations.required"),pattern:{value:/^\S+@\S+$/i,message:e("validations.emailpattern")}}))),Object(N.jsx)("br",{}),r.email&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.email.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"phone",children:[e("data.phone"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"number",id:"phone"},a("phone",{required:e("validations.required"),minLength:{value:6,message:e("validations.sixminlenght")},maxlength:{value:10,message:e("validations.tenmaxlenght")}}))),Object(N.jsx)("br",{}),r.phone&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.phone.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"password",children:[e("data.password"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"password",id:"password"},a("password",{required:e("validations.required"),minLength:{value:6,message:e("validations.sixminlenght")}}))),Object(N.jsx)("br",{}),r.password&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.password.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"password2",children:[e("data.confirm"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"password",id:"password2"},a("password2",{required:e("validations.required"),minLength:{value:6,message:e("validations.sixminlenght")},validate:function(t){return t===c("password")||e("validations.passnomatch")}}))),Object(N.jsx)("br",{}),r.password2&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.password2.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"label"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"checkbox",id:"conditions","data-testid":"conditions"},a("conditions",{required:e("validations.required")}))),Object(N.jsx)(o.a,{to:"/terms",children:e("data.conditions")}),Object(N.jsx)("br",{}),r.conditions&&Object(N.jsx)("span",{className:"alert",role:"alert",children:r.conditions.message})]})]}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{className:"buttons",disabled:!l||!d,type:"submit",children:Object(N.jsx)("span",{children:e("layout.signup")})})})]})}),Object(N.jsx)("div",{})]})]})};a(95);var D=function(){var e=Object(R.a)({mode:"onBlur"}),t=e.register,a=e.handleSubmit,s=e.formState,n=s.errors,c=s.isDirty,i=s.isValid,r=Object(u.a)().t,l=Object(b.b)();return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:r("layout.login")}),Object(N.jsxs)("p",{children:[r("messages.noaccount")," ",Object(N.jsx)(o.a,{to:"/register",children:r("layout.register")})]})]})}),Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsxs)("form",{noValidate:!0,onSubmit:a((function(e){var t=e;l(I.login(t,"/react-login"))})),className:"frm",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"email",children:[r("data.email"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"email",id:"email",name:"name"},t("email",{required:r("validations.required"),pattern:{value:/^\S+@\S+$/i,message:r("validations.emailpattern")}}))),Object(N.jsx)("br",{}),n.email&&Object(N.jsx)("span",{className:"alert",role:"alert",children:n.email.message})]})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("label",{className:"label",htmlFor:"password",children:[r("data.password"),":"]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("input",Object(w.a)({type:"password",id:"password"},t("password",{required:r("validations.required"),minLength:{value:6,message:r("validations.sixminlenght")}}))),Object(N.jsx)("br",{}),n.password&&Object(N.jsx)("span",{className:"alert",role:"alert",children:n.password.message})]})]}),Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("button",{className:"buttons",disabled:!c||!i,type:"submit",children:Object(N.jsx)("span",{children:r("layout.login")})})})})]})})})]})};var M=function(){var e=Object(u.a)().t;return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsx)(o.a,{to:"/register",children:e("layout.back")})}),Object(N.jsx)("div",{children:Object(N.jsx)("p",{id:"terms",children:e("terms")})})]})})};a(96);function B(){var e=Object(u.a)(),t=e.t,a=e.i18n,n=null,c=Object(b.b)(),i=Object(b.c)((function(e){return e.authentication.authenticated})),l=Object(b.c)((function(e){return e.alert}));localStorage.sessionToken&&(n=localStorage.sessionToken,j(n));var d=function(e){a.changeLanguage(e)};Object(s.useEffect)((function(){h.listen((function(e,t){setTimeout((function(){c(x.clear())}),7e3)}))}),[]);return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(r.b,{history:h,children:[Object(N.jsxs)("header",{className:"App-header",children:[Object(N.jsx)(o.a,{className:"home",to:"/react-login",children:Object(N.jsx)("img",{src:v,className:"App-logo",alt:"logo"})}),Object(N.jsxs)("div",{className:"buttons-container",children:[Object(N.jsx)("button",{className:"buttons",onClick:function(){return d("es")},children:Object(N.jsx)("span",{children:"es"})}),Object(N.jsx)("button",{className:"buttons",onClick:function(){return d("en")},children:Object(N.jsx)("span",{children:"en"})}),i&&Object(N.jsx)("button",{onClick:function(){c(I.logout())},children:t("layout.logout")})]})]}),Object(N.jsxs)("div",{children:[l.message&&Object(N.jsx)("div",{className:"alert-".concat(l.type),children:t(l.message)}),Object(N.jsxs)(r.c,{children:[Object(N.jsx)(r.a,{exact:!0,path:"/react-login",component:y}),Object(N.jsx)(r.a,{exact:!0,path:"/register",component:F}),Object(N.jsx)(r.a,{exact:!0,path:"/login",component:D}),Object(N.jsx)(r.a,{exact:!0,path:"/terms",component:M})]})]})]})})}function G(){return Object(N.jsx)(s.Suspense,{fallback:"...is loading",children:Object(N.jsx)(B,{})})}var P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))},V=a(18),J=a(49),X={authenticated:!1,user:{}};var z=Object(V.b)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(w.a)(Object(w.a)({},e),{},{authenticated:!0,user:t.user});case k:return Object(w.a)(Object(w.a)({},e),{},{authenticated:!0,user:t.user.email});case q:return{};case A:return Object(w.a)(Object(w.a)({},e),{},{authenticated:!1});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case L:return Object(w.a)(Object(w.a)({},e),{},{registering:!0});case T:return{};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(w.a)(Object(w.a)({},e),{},{type:"alert-success",message:t.message});case g:return Object(w.a)(Object(w.a)({},e),{},{type:"alert-danger",message:t.message});case p:return{};default:return e}}}),Q=[J.a],W=Object(V.d)(z,{},Object(V.c)(V.a.apply(void 0,Q),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||V.c)),$=a(35),H=a(25),K=a(53),Y=(a(97),a(34)),Z={en:{translation:a(51)},es:{translation:a(52)}};$.a.use(K.a).use(H.e).init({resources:Z,debug:!0,fallbackLng:"es",interpolation:{escapeValue:!1,format:function(e,t,a){return e instanceof Date?Y.DateTime.fromJSDate(e).setLocale(a).toLocaleString(Y.DateTime[t]):e}}});$.a;i.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(b.a,{store:W,children:Object(N.jsx)(G,{})})}),document.getElementById("root")),P()}},[[98,1,2]]]);
//# sourceMappingURL=main.9b142e9d.chunk.js.map